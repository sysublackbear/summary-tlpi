### Chapter4.文件I/O：通用的I/O模型

#### 1.文件I/O的方法：

+ 打开一个文件：open；
+ 读取文件内容：read；
+ 数据写入文件：write；
+ 关闭文件：close；
+ 改变文件偏移量：lseek；



#### 2.文件空洞

如果程序的文件偏移量已然跨越了文件结尾，然后再执行I/O操作，将会发生什么情况？read()调用将返回0，表示文件结尾。但write函数可以在文件结尾后的任意位置写入数据。

从文件结尾后到新写入数据间的这段空间被称为文件空洞。从编程角度看，文件空洞中是存在字节的，读取空洞将返回0（空字节）填充的缓冲区。

然而，文件空洞不占用任何磁盘空间，直到后续某个时点，在文件空洞中写入了数据，文件系统才会为之分配磁盘块。文件空洞的主要优势在于，与为实际需要的空字节分配磁盘块相比，稀疏填充的文件会占用较少的磁盘空间。核心转储文件（core dump）是包含空洞文件的常见例子。

#### 3.通用I/O模型以外的操作：ioctl()



